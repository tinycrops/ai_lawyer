{% extends "wiki/base.html" %}

{% block title %}Home - American Law Wiki{% endblock %}

{% block sidebar_content %}
<h5 class="mb-3">Quick Links</h5>
<div class="list-group">
    <a href="/wiki/states" class="list-group-item list-group-item-action">Browse by State</a>
    <a href="/wiki/document_types" class="list-group-item list-group-item-action">Browse by Document Type</a>
    <a href="/wiki/latest" class="list-group-item list-group-item-action">Latest Additions</a>
</div>

<h5 class="mt-4 mb-3">Document Categories</h5>
<div class="list-group">
    {% for doc_type in document_types %}
    <a href="/wiki/document_types/{{ doc_type.document_type|urlencode }}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
        {{ doc_type.document_type }}
        <span class="badge bg-primary rounded-pill">{{ doc_type.count }}</span>
    </a>
    {% endfor %}
</div>
{% endblock %}

{% block content %}
<div class="p-4 mb-4 bg-light rounded-3">
    <div class="container-fluid py-3">
        <h1 class="display-5 fw-bold">American Law Wiki</h1>
        <p class="fs-4">An interactive repository of American legal documents processed with AI technology.</p>
        <p>This wiki provides access to structured legal documents from across the United States, including statutes, regulations, court cases, and more.</p>
        <a href="/wiki/about" class="btn btn-primary btn-lg">Learn More</a>
    </div>
</div>

<div class="row mb-4">
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body">
                <h5 class="card-title">Browse by State</h5>
                <p class="card-text">Explore legal documents organized by state jurisdictions.</p>
                <a href="/wiki/states" class="btn btn-outline-primary">View States</a>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body">
                <h5 class="card-title">Browse by Document Type</h5>
                <p class="card-text">View documents categorized by their legal classification.</p>
                <a href="/wiki/document_types" class="btn btn-outline-primary">View Types</a>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body">
                <h5 class="card-title">Search Documents</h5>
                <p class="card-text">Search the full text of processed legal documents.</p>
                <a href="/wiki/search" class="btn btn-outline-primary">Search</a>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <h3>Latest Additions</h3>
        <div class="list-group mb-4">
            {% for doc in latest_documents %}
            <a href="/wiki/document/{{ doc.document_id }}" class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">{{ doc.document_type }}</h5>
                    <small>{{ doc.processed_date }}</small>
                </div>
                <p class="mb-1">{{ doc.state_name }} - {{ doc.place_name }}</p>
            </a>
            {% else %}
            <div class="list-group-item">No documents available yet.</div>
            {% endfor %}
        </div>
    </div>

    <div class="col-md-6">
        <h3>Processing Statistics</h3>
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-6">
                        <div class="text-center mb-3">
                            <h5>Total Documents</h5>
                            <h2 class="display-6">{{ stats.total_documents }}</h2>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="text-center mb-3">
                            <h5>Processed</h5>
                            <h2 class="display-6">{{ stats.processed_documents }}</h2>
                        </div>
                    </div>
                </div>
                <div class="progress mb-3">
                    <div class="progress-bar" role="progressbar" style="width: {{ stats.overall_percentage }}%;" aria-valuenow="{{ stats.overall_percentage }}" aria-valuemin="0" aria-valuemax="100">{{ stats.overall_percentage }}%</div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="text-center">
                            <h5>States</h5>
                            <h2>{{ stats.states_count }}</h2>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="text-center">
                            <h5>Places</h5>
                            <h2>{{ stats.places_count }}</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 